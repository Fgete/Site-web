<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=100, height=100, initial-scale=1">
    <title>L A G - Lobby</title>
    <link rel="shortcut icon" type="image/x-icon" href="./images/logo.png"/>
    <link rel="stylesheet" type="text/css" href="./css/colors2024.css">
    <link rel="stylesheet" type="text/css" href="./css/fonts.css">
    <link rel="stylesheet" type="text/css" href="./css/default2024.css">
    <link rel="stylesheet" type="text/css" href="./css/lobby-showcase.css">
    <!-- FONTS -->
    <link href="https://fonts.cdnfonts.com/css/xolonium" rel="stylesheet">
</head>

<body>

    <header>
        <div>
            <div id="header-logo">
                <img src="./images/logo_white.png">
            </div>
            <div id="header-menu">
                <a href="#" style="pointer-events: none;"><div></div></a>
                <a onclick="GoToUrl('./html/projects.html')" style="cursor: pointer;"><div>Réalisations</div></a>
                <a onclick="GoToUrl('./html/contact.html')" style="cursor: pointer;"><div>Me contacter</div></a>
                <p>☰</p>
            </div>
        </div>
    </header>

    <div id="showcase">
        <div class="left-panel">
            <img id="sc-glitch0"  class="screen" src="./images/lobby/glitch-plane.png">
            <img id="sc-glitch1"  class="screen" src="./images/lobby/glitch-plane.png">
            <img id="sc-red"      class="screen" src="./images/lobby/sc_red_composed.png">
            <img id="sc-cyan"     class="screen" src="./images/lobby/sc_cyan_composed.png">
            <img id="sc-glass0"   class="screen" src="./images/lobby/glass0.png">
            <img id="sc-glass1"   class="screen" src="./images/lobby/glass1.png">
            <img id="sc-portrait" class="screen" src="./images/lobby/portrait.png">

            <p class="sc-title" style="font-size: 7.8vh;  line-height: 0;">FRANCOIS</p>
            <p class="sc-title" style="font-size: 14.5vh; line-height: 17vh;">GETE</p>
            <p class="sc-title" style="font-size: 5.5vh;  line-height: 0;">════════════</p>
            <p class="sc-title" style="font-size: 5.4vh;  line-height: 9vh;">DEVELOPPEUR</p>
            <p class="sc-title" style="font-size: 7.5vh;  line-height: 1vh;">JEU VIDEO</p>
            <p class="sc-title" style="font-size: 9.3vh;  line-height: 13vh;">ARTISTE</p>
            <p class="sc-title" style="font-size: 13vh;   line-height: 3vh; transform: scaleX(2.5) translateX(28%);">3D</p>
        </div>
    </div>

    <div id="connection-panel">
        <p>Connection...</p>
    </div>

    <div>
        <p id="width-debug" style="color: white;"></p>
        <p id="orientation-debug" style="color: white;"></p>
    </div>

    <div id="content">
        <div class="large-title"></div>
    </div>

</body>

<script>
    
    width = document.getElementById("width-debug");
    orien = document.getElementById("orientation-debug");

    blendModes = [
        "normal",
        "multiply",
        "screen",
        "overlay",
        "darken",
        "lighten",
        "color-dodge",
        "color-burn",
        "hard-light",
        "soft-light",
        "difference",
        "exclusion",
        "hue",
        "saturation",
        "color",
        "luminosity",
        "plus-darker",
        "plus-lighter",
    ];

    function UpdateWidthDebug() {
        width.innerHTML = window.innerWidth;
        orien.innerHTML = screen.orientation.type;
    }

    async function SetBlendModeToShowcaseTitles() {
        console.log("blend");
        titles = document.getElementsByClassName('sc-title');

        for (j = 0; j < 10; j++){
            for (i = 0; i < titles.length; i++){
                titles[i].style.mixBlendMode = blendModes[Math.floor(Math.random() * (blendModes.length - 1))];
                titles[i].style.transform = "translateX(" + Math.floor(Math.random() * 100) + "px)";
            }
            await sleep(50);
            for (i = 0; i < titles.length; i++){
                titles[i].style.mixBlendMode = "normal";
                titles[i].style.transform = i == titles.length - 1 ? "scaleX(2.5) translateX(28%)" : "translateX(0px)";
            }
        }
    }
    
    async function GoToUrl(url) {
        console.log("go to url : '" + url + "'");
        // Connection panel
        document.getElementById("connection-panel").style.opacity = "1";
        // Rotation
        document.documentElement.style.setProperty('--rotX', '20deg');
        document.documentElement.style.setProperty('--rotY', '0deg');
        document.documentElement.style.setProperty('--rotZ', '-40deg');
        // Position
        document.documentElement.style.setProperty('--traZ', '-100px');
        // VFX
        document.documentElement.style.setProperty('--blur-effect', '50px');
        
        await sleep(1500);

        window.location.href = url;
    }

    async function SetupScreen() {
        // Rotation
        document.documentElement.style.setProperty('--rotX', '10deg');
        document.documentElement.style.setProperty('--rotY', '0deg');
        document.documentElement.style.setProperty('--rotZ', '10deg');
        // Position
        document.documentElement.style.setProperty('--traZ', '-350px');
        // VFX
        document.documentElement.style.setProperty('--blur-effect', '0px');
    }

    function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }
    console.log("set intervals");
    interval   = setInterval(UpdateWidthDebug, 100);
    blendModer = setInterval(SetBlendModeToShowcaseTitles, 5000);
    // SetupScreen();

</script>

</html>